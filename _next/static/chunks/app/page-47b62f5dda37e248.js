(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7453:(e,i,s)=>{"use strict";s.d(i,{default:()=>l});var t=s(5016),n=s(7012),a=s(6890);function l(){let e=(0,a.useRouter)(),[i,s]=(0,n.useState)([]),[l,o]=(0,n.useState)("manual"),[c,r]=(0,n.useState)(""),[d,h]=(0,n.useState)(""),[u,m]=(0,n.useState)(""),[p,j]=(0,n.useState)(""),[x,v]=(0,n.useState)(""),[f,N]=(0,n.useState)(!1),[g,b]=(0,n.useState)(!1),[C,A]=(0,n.useState)(!1),[S,y]=(0,n.useState)(!1),[I,w]=(0,n.useState)(!1),[k,O]=(0,n.useState)(null),[E,T]=(0,n.useState)(new Set);(0,n.useEffect)(()=>{A(!0)},[]),(0,n.useEffect)(()=>{if(!C)return;let e=localStorage.getItem("opinions");if(e)s(JSON.parse(e));else{let e=[{id:1,topic:"교육",content:"온라인 수업의 품질을 높이려면 교사들의 디지털 역량 강화가 필요합니다.",author:"김교육",timestamp:"2024-01-15 09:30",isAutoClassified:!1},{id:2,topic:"환경",content:"플라스틱 사용을 줄이기 위해 친환경 포장재 사용을 의무화해야 합니다.",author:"박환경",timestamp:"2024-01-15 10:15",isAutoClassified:!0},{id:3,topic:"경제",content:"중소기업 지원을 위한 세제 혜택을 확대해야 경제가 살아날 것입니다.",author:"이경제",timestamp:"2024-01-15 11:20",isAutoClassified:!1},{id:4,topic:"기술",content:"인공지능 기술이 발달하면서 일자리 변화에 대한 대비책이 필요합니다.",author:"최기술",timestamp:"2024-01-15 12:45",isAutoClassified:!0},{id:5,topic:"정치",content:"지방자치단체의 권한을 강화해서 지역 특성에 맞는 정책을 펼쳐야 합니다.",author:"정정치",timestamp:"2024-01-15 13:10",isAutoClassified:!1},{id:6,topic:"사회",content:"고령화 사회에 대비한 의료 시설 확충과 복지 제도 개선이 시급합니다.",author:"강사회",timestamp:"2024-01-15 14:25",isAutoClassified:!0},{id:7,topic:"문화",content:"지역 문화 예술 지원을 늘려서 문화 다양성을 보장해야 합니다.",author:"윤문화",timestamp:"2024-01-15 15:40",isAutoClassified:!1},{id:8,topic:"교육",content:"학생들의 창의성을 기르는 교육과정 개편이 필요하다고 생각합니다.",author:"조학생",timestamp:"2024-01-15 16:20",isAutoClassified:!0},{id:9,topic:"환경",content:"재생에너지 확대를 통해 탄소 중립을 달성해야 합니다.",author:"임재생",timestamp:"2024-01-15 17:05",isAutoClassified:!1},{id:10,topic:"경제",content:"부동산 가격 안정화를 위한 근본적인 대책이 마련되어야 합니다.",author:"한부동산",timestamp:"2024-01-15 18:30",isAutoClassified:!0},{id:11,topic:"기술",content:"개인정보 보호를 위한 더 강력한 보안 기술 개발이 필요합니다.",author:"백보안",timestamp:"2024-01-16 09:15",isAutoClassified:!1},{id:12,topic:"정치",content:"국회의원들의 의정활동을 더 투명하게 공개해야 합니다.",author:"노투명",timestamp:"2024-01-16 10:45",isAutoClassified:!0},{id:13,topic:"사회",content:"청년들의 주거 문제 해결을 위한 공공임대주택 확대가 필요합니다.",author:"유청년",timestamp:"2024-01-16 11:55",isAutoClassified:!1},{id:14,topic:"문화",content:"전통문화 보존과 현대적 활용 방안을 모색해야 합니다.",author:"송전통",timestamp:"2024-01-16 13:20",isAutoClassified:!0},{id:15,topic:"교육",content:"교육 격차 해소를 위한 맞춤형 학습 지원이 확대되어야 합니다.",author:"전격차",timestamp:"2024-01-16 14:10",isAutoClassified:!1},{id:16,topic:"환경",content:"도시 녹지 공간 확대로 시민들의 삶의 질을 향상시켜야 합니다.",author:"홍녹지",timestamp:"2024-01-16 15:35",isAutoClassified:!0},{id:17,topic:"경제",content:"스타트업 생태계 활성화를 위한 투자 환경 개선이 필요합니다.",author:"문스타트업",timestamp:"2024-01-16 16:50",isAutoClassified:!1},{id:18,topic:"기술",content:"5G 인프라 구축을 통한 스마트시티 건설을 가속화해야 합니다.",author:"장스마트",timestamp:"2024-01-16 17:25",isAutoClassified:!0},{id:19,topic:"사회",content:"다문화 가정 지원 프로그램을 확대해서 사회 통합을 이루어야 합니다.",author:"표다문화",timestamp:"2024-01-16 18:40",isAutoClassified:!1},{id:20,topic:"문화",content:"지역축제를 통한 관광산업 활성화 방안을 마련해야 합니다.",author:"남축제",timestamp:"2024-01-16 19:15",isAutoClassified:!0}];s(e),localStorage.setItem("opinions",JSON.stringify(e))}},[C]);let J=async e=>{var t;let n;if(e.preventDefault(),"manual"===l){if(!c)return void alert("주제를 선택해주세요.");n=c}else{y(!0);try{let e=await fetch("/api/gemini",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:"classify",content:d})});if(!e.ok)throw Error("API 요청 실패");n=(await e.json()).result.trim()}catch(e){console.error("주제 분류 중 오류 발생:",e),alert("AI 주제 분류 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요."),y(!1);return}finally{y(!1)}}let a=[...i,{id:Date.now(),topic:n,content:d,author:u||"익명",timestamp:new Date().toISOString(),isAutoClassified:"auto"===l}];s(a),localStorage.setItem("opinions",JSON.stringify(a)),h(""),m(""),r(""),b(!0),setTimeout(()=>{b(!1)},3e3),null==(t=document.getElementById("dashboard"))||t.scrollIntoView({behavior:"smooth"})},M=x?i.filter(e=>e.topic===x):i,_=M.reduce((e,i)=>{let s=i.topic;return e[s]||(e[s]=[]),e[s].push(i),e},{}),F=async()=>{if(0===i.length)return void alert("요약할 의견이 없습니다. 먼저 의견을 제출해주세요.");w(!0),O(null),N(!0);try{let e=await fetch("/api/gemini",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:"extractThemes",content:i})});if(!e.ok)throw Error("AI 요약 생성에 실패했습니다.");let s=await e.json(),t=JSON.parse(s.result.replace(/```json\n?/,"").replace(/```$/,""));O(t)}catch(e){console.error(e),alert("AI 요약 생성 중 오류가 발생했습니다."),N(!1)}finally{w(!1),setTimeout(()=>{var e;return null==(e=document.getElementById("aiSummary"))?void 0:e.scrollIntoView({behavior:"smooth"})},100)}};return C?(0,t.jsxs)("div",{children:[(0,t.jsx)("header",{children:(0,t.jsx)("nav",{className:"navbar",children:(0,t.jsxs)("div",{className:"nav-container",children:[(0,t.jsx)("div",{className:"logo",children:(0,t.jsx)("h1",{children:"Opinion Leader"})}),(0,t.jsxs)("ul",{className:"nav-menu",children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#home",children:"홈"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#opinion",children:"의견 제출"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#dashboard",children:"의견 대시보드"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#about",children:"소개"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#contact",children:"연락처"})}),(0,t.jsx)("li",{className:"auth-nav",children:(0,t.jsx)("button",{onClick:()=>e.push("/auth/signin"),className:"login-btn",children:"로그인"})})]})]})})}),(0,t.jsxs)("main",{children:[(0,t.jsx)("section",{id:"home",className:"hero",children:(0,t.jsxs)("div",{className:"hero-content",children:[(0,t.jsx)("h2",{children:"당신의 목소리가 세상을 바꿉니다"}),(0,t.jsx)("p",{children:"Opinion Leader와 함께 영향력 있는 의견을 나누고, 변화를 이끌어나가세요."}),(0,t.jsx)("button",{className:"cta-button",onClick:()=>{var e;null==(e=document.getElementById("opinion"))||e.scrollIntoView({behavior:"smooth"})},children:"의견 제출하기"})]})}),(0,t.jsx)("section",{id:"opinion",className:"opinion-form",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h2",{children:"의견을 들려주세요"}),(0,t.jsx)("div",{className:"form-container",children:(0,t.jsxs)("form",{onSubmit:J,children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsxs)("div",{className:"topic-selection-header",children:[(0,t.jsx)("label",{children:"주제 설정"}),(0,t.jsxs)("div",{className:"topic-mode-toggle",children:[(0,t.jsx)("input",{type:"radio",id:"manualMode",name:"topicMode",value:"manual",checked:"manual"===l,onChange:e=>o(e.target.value)}),(0,t.jsx)("label",{htmlFor:"manualMode",children:"직접 선택"}),(0,t.jsx)("input",{type:"radio",id:"autoMode",name:"topicMode",value:"auto",checked:"auto"===l,onChange:e=>o(e.target.value)}),(0,t.jsx)("label",{htmlFor:"autoMode",children:"AI 자동 분류"})]})]}),"manual"===l&&(0,t.jsx)("div",{className:"topic-input-section",children:(0,t.jsxs)("select",{id:"topic",name:"topic",value:c,onChange:e=>r(e.target.value),required:!0,children:[(0,t.jsx)("option",{value:"",children:"주제를 선택하세요"}),(0,t.jsx)("option",{value:"교육",children:"교육"}),(0,t.jsx)("option",{value:"환경",children:"환경"}),(0,t.jsx)("option",{value:"경제",children:"경제"}),(0,t.jsx)("option",{value:"기술",children:"기술"}),(0,t.jsx)("option",{value:"정치",children:"정치"}),(0,t.jsx)("option",{value:"사회",children:"사회"}),(0,t.jsx)("option",{value:"문화",children:"문화"}),(0,t.jsx)("option",{value:"기타",children:"기타"})]})}),"auto"===l&&(0,t.jsx)("div",{className:"topic-input-section",children:(0,t.jsxs)("div",{className:"auto-topic-info",children:[(0,t.jsx)("p",{children:"✨ AI가 의견 내용을 분석하여 자동으로 적절한 주제를 분류해드립니다."}),p&&(0,t.jsx)("div",{className:"predicted-topic",children:(0,t.jsxs)("span",{children:["예상 주제: ",(0,t.jsx)("strong",{children:p})]})})]})})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"opinion",children:"의견"}),(0,t.jsx)("textarea",{id:"opinion",name:"opinion",value:d,onChange:e=>h(e.target.value),placeholder:"당신의 의견을 자유롭게 작성해주세요...",required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"name",children:"닉네임 (선택)"}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",value:u,onChange:e=>m(e.target.value),placeholder:"익명"})]}),(0,t.jsx)("div",{className:"form-group submit-group",children:(0,t.jsx)("button",{type:"submit",className:"submit-btn",disabled:S,children:S?"AI 분석 중...":"의견 제출"})})]})})]})}),(0,t.jsx)("section",{id:"dashboard",className:"dashboard",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h2",{children:"의견 대시보드"}),(0,t.jsxs)("div",{className:"dashboard-controls",children:[(0,t.jsx)("button",{onClick:F,className:"summary-btn",children:"AI 종합 요약 생성"}),(0,t.jsxs)("select",{id:"topicFilter",value:x,onChange:e=>v(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"모든 주제"}),(0,t.jsx)("option",{value:"교육",children:"교육"}),(0,t.jsx)("option",{value:"환경",children:"환경"}),(0,t.jsx)("option",{value:"경제",children:"경제"}),(0,t.jsx)("option",{value:"기술",children:"기술"}),(0,t.jsx)("option",{value:"정치",children:"정치"}),(0,t.jsx)("option",{value:"사회",children:"사회"}),(0,t.jsx)("option",{value:"문화",children:"문화"}),(0,t.jsx)("option",{value:"기타",children:"기타"})]})]}),f&&(0,t.jsxs)("div",{id:"aiSummary",className:"ai-summary",children:[(0,t.jsx)("h3",{children:"AI 종합 요약"}),(0,t.jsx)("div",{id:"summaryContent",children:I?(0,t.jsx)("div",{className:"loading-spinner-small",children:"AI가 핵심 주제를 분석 중입니다..."}):k&&k.themes?(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{children:"핵심 주제"}),(0,t.jsx)("ul",{children:k.themes.map((e,i)=>(0,t.jsxs)("li",{children:[(0,t.jsxs)("strong",{children:[e.theme,":"]})," ",e.description]},i))})]}):(0,t.jsx)("p",{children:"요약 내용을 불러오는 데 실패했습니다."})})]}),(0,t.jsx)("div",{className:"topic-groups",children:Object.entries(_).map(e=>{let[i,s]=e;return(0,t.jsxs)("div",{className:"topic-group",children:[(0,t.jsxs)("h3",{children:[i,(0,t.jsx)("span",{className:"topic-count",children:s.length})]}),(0,t.jsxs)("div",{className:"topic-summary",children:[s.slice(0,3).map(e=>(0,t.jsxs)("p",{children:[(0,t.jsxs)("strong",{children:[e.author,":"]})," ",e.content.substring(0,100),"..."]},e.id)),s.length>3&&(0,t.jsx)("p",{children:(0,t.jsxs)("em",{children:["외 ",s.length-3,"개 의견"]})})]})]},i)})}),(0,t.jsx)("div",{className:"postit-board",children:0===M.length?(0,t.jsxs)("div",{className:"empty-state",children:["아직 제출된 의견이 없습니다.",(0,t.jsx)("br",{}),"첫 번째 의견을 작성해보세요!"]}):M.map(e=>{let i=E.has(e.id),s=e.content.length>120;return(0,t.jsxs)("div",{className:"post-it topic-".concat(e.topic.toLowerCase()),children:[(0,t.jsx)("div",{className:"post-it-header",children:(0,t.jsx)("span",{className:"post-it-topic",children:e.topic})}),(0,t.jsxs)("div",{className:"post-it-content ".concat(s?"expandable":""),onClick:()=>{var i;return s&&(i=e.id,void T(e=>{let s=new Set(e);return s.has(i)?s.delete(i):s.add(i),s}))},children:[(0,t.jsx)("p",{children:s&&!i?"".concat(e.content.substring(0,120),"..."):e.content}),s&&(0,t.jsx)("span",{className:"expand-indicator",children:i?"접기":"더보기"})]}),(0,t.jsx)("div",{className:"post-it-footer",children:(0,t.jsx)("span",{children:e.author})})]},e.id)})})]})}),(0,t.jsx)("section",{id:"about",className:"about",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h2",{children:"우리가 하는 일"}),(0,t.jsxs)("div",{className:"features",children:[(0,t.jsxs)("div",{className:"feature",children:[(0,t.jsx)("h3",{children:"의견 공유"}),(0,t.jsx)("p",{children:"다양한 주제에 대한 전문적인 의견을 공유하고 토론할 수 있습니다."})]}),(0,t.jsxs)("div",{className:"feature",children:[(0,t.jsx)("h3",{children:"네트워킹"}),(0,t.jsx)("p",{children:"같은 관심사를 가진 전문가들과 연결되어 네트워크를 확장하세요."})]}),(0,t.jsxs)("div",{className:"feature",children:[(0,t.jsx)("h3",{children:"영향력 확대"}),(0,t.jsx)("p",{children:"당신의 전문성을 바탕으로 사회에 긍정적인 영향을 미치세요."})]})]})]})}),(0,t.jsx)("section",{id:"contact",className:"contact",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h2",{children:"연락처"}),(0,t.jsx)("div",{className:"contact-info",children:(0,t.jsx)("p",{children:"Email: contact@opinion-leader.com"})})]})})]}),(0,t.jsx)("footer",{children:(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("p",{children:"\xa9 2025 Opinion Leader. All rights reserved."})})}),g&&(0,t.jsx)("div",{className:"modal-overlay",children:(0,t.jsxs)("div",{className:"success-modal",children:[(0,t.jsx)("div",{className:"success-icon",children:"✅"}),(0,t.jsx)("h3",{children:"의견 제출 완료!"}),(0,t.jsx)("p",{children:"의견이 성공적으로 제출되었습니다."}),(0,t.jsx)("button",{onClick:()=>b(!1),className:"confirm-btn",children:"확인"})]})})]}):(0,t.jsx)("div",{className:"loading-container",children:(0,t.jsx)("div",{className:"loading-spinner",children:"로딩 중..."})})}},9610:(e,i,s)=>{Promise.resolve().then(s.bind(s,7453))}},e=>{e.O(0,[314,766,358],()=>e(e.s=9610)),_N_E=e.O()}]);